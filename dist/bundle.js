(()=>{"use strict";var e="ee16de9559db45799581e016de56efca";var n=document.querySelector("select"),t=document.querySelector(".welcome-message");const o={"":function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=document.querySelector("select"),c=document.querySelector(".welcome-message");c.classList.remove("hidden"),o.classList.remove("hidden"),console.log("la plateforme sélectionnée est",t);var a=function(){var o=n.replace(/\s+/g,"-"),c="",a=1;document.querySelector("#show-more").addEventListener("click",(function(){a+=1,console.log(a),r("https://api.rawg.io/api/games","",a)}));var r=function(n,o,a){var r=n+"?key="+e+"&page="+a;o&&(r=n+"?search="+o+"&search_precise=true&key="+e+"&page="+a),fetch("".concat(r)).then((function(e){return e.json()})).then((function(e){var n=e.results;""!==t&&(n=n.filter((function(e){return e.platforms.map((function(e){return e.platform.name})).includes(t)}))),console.log("articleListe 2 : ",n),n.forEach((function(e){c+='\n                  <div class="cardGame">\n                    <a href="#pagedetail/'.concat(e.id,'"><div><img src=').concat(e.background_image,"></img></div></a>\n                    <h1>").concat(e.name,"</h1>\n                  </div>\n                ")})),document.querySelector(".page-list .articles").innerHTML=c}))};r("https://api.rawg.io/api/games",o,a)},r=function(){pageContent.innerHTML='\n      \n      <section class="page-list">\n        <div class="articles">...loading</div>\n      </section>\n      <button class="show-more" id="show-more" >Show more</button>\n    ',a()};r()},pagedetail:function(e){t.classList.add("hidden"),n.classList.add("hidden"),pageContent.innerHTML='\n      <section class="page-detail">\n        <div class="article">\n          <h1 class="title"></h1>\n          <p class="release-date">Release date : <span></span></p>\n          <p class="description"></p>\n        </div>\n      </section>\n    ',function(e,n){var t="https://api.rawg.io/api/games/"+n+"?key=ee16de9559db45799581e016de56efca";console.log(t),fetch("".concat(t)).then((function(e){return e.json()})).then((function(e){var n=e.name,t=e.released,o=e.description,c=document.querySelector(".page-detail .article");c.querySelector("h1.title").innerHTML=n,c.querySelector("p.release-date span").innerHTML=t,c.querySelector("p.description").innerHTML=o}))}(0,e.replace(/\s+/g,"-"))}};var c,a=document.querySelector("#search-form"),r=document.querySelector("#find-game"),s=document.querySelector("select"),i=o,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=window.location.hash.substring(1).split("/");return console.log(n),c=n[1]||"",document.querySelector("#pageContent"),console.log("pageArgument :",c,"Selected Plateforme : ",e),i[n[0]](c,e),!0};window.addEventListener("hashchange",(function(){console.log("2"),l()})),window.addEventListener("DOMContentLoaded",(function(){return l()})),s.addEventListener("change",(function(){return l(s[s.options.selectedIndex].value)})),a.addEventListener("submit",(function(){a.action="index-webpack.html?#/".concat(r.value.replace(/\s+/g,"-")),console.log("1",r.value.replace(/\s+/g,"-"))}))})();